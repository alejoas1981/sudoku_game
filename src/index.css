@import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=JetBrains+Mono:wght@400;500&family=Caveat:wght@400;500;600;700&display=swap');

@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
    :root {
        /* Light Theme Palette */
        --background: 42 10% 96%;
        --foreground: 0 0% 20%;
        --card: 0 0% 94%;
        --card-foreground: 0 0% 20%;
        --popover: 0 0% 94%;
        --popover-foreground: 0 0% 20%;
        --primary: 0 0% 40%;
        --primary-foreground: 0 0% 97%;
        --secondary: 0 0% 88%;
        --secondary-foreground: 0 0% 35%;
        --muted: 0 0% 90%;
        --muted-foreground: 0 0% 45%;
        --accent: 0 0% 85%;
        --accent-foreground: 0 0% 25%;
        --destructive: 0 75% 55%;
        --destructive-foreground: 0 0% 97%;
        --success: 142 76% 36%;
        --success-foreground: 0 0% 97%;
        --warning: 45 93% 47%;
        --warning-foreground: 0 0% 20%;
        --border: 0 0% 80%;
        --input: 0 0% 80%;
        --ring: 0 0% 40%;
        --radius: 0.375rem;
        --grid-line: 0 0% 70%;
        --grid-line-thick: 0 0% 50%;
        --grid-selected: 0 0% 88%;
        --grid-error: 0 75% 92%;
        --grid-hint: 142 76% 92%;
        --shadow-soft: 0 0% 20% 0.1;
        --shadow-paper: 0 0% 20% 0.05;
    }

    .dark {
        --background: 220 10% 15%;
        --foreground: 220 10% 85%;
        --card: 220 10% 22%;
        --card-foreground: 220 10% 85%;
        --popover: 220 10% 22%;
        --popover-foreground: 220 10% 85%;
        --primary: 220 10% 90%;
        --primary-foreground: 220 10% 15%;
        --secondary: 220 10% 30%;
        --secondary-foreground: 220 10% 90%;
        --muted: 220 10% 30%;
        --muted-foreground: 220 10% 70%;
        --accent: 220 10% 30%;
        --accent-foreground: 220 10% 90%;
        --destructive: 0 65% 45%;
        --destructive-foreground: 0 0% 95%;
        --success: 142 60% 35%;
        --success-foreground: 0 0% 95%;
        --warning: 45 75% 45%;
        --warning-foreground: 0 0% 95%;
        --border: 220 10% 35%;
        --input: 220 10% 35%;
        --ring: 220 10% 80%;
        --grid-line: 220 10% 40%;
        --grid-line-thick: 220 10% 55%;
        --grid-selected: 220 10% 32%;
        --grid-error: 0 65% 35%;
        --grid-hint: 142 60% 25%;
        --shadow-soft: 0 0% 0% 0.1;
        --shadow-paper: 0 0% 0% 0.05;
    }

    .sepia {
        --background: 35 30% 94%;
        --foreground: 35 15% 25%;
        --card: 35 30% 90%;
        --card-foreground: 35 15% 25%;
        --primary: 35 15% 40%;
        --primary-foreground: 35 30% 97%;
        --secondary: 35 30% 85%;
        --accent: 35 30% 82%;
        --accent-foreground: 35 15% 25%;
        --destructive: 0 60% 50%;
        --destructive-foreground: 35 30% 97%;
        --border: 35 20% 80%;
        --grid-line: 35 20% 75%;
        --grid-line-thick: 35 15% 55%;
        --grid-selected: 35 30% 84%;
        --grid-error: 0 60% 88%;
    }

    .blueprint {
        --background: 210 45% 15%;
        --foreground: 210 25% 95%;
        --card: 210 45% 22%;
        --card-foreground: 210 25% 95%;
        --primary: 210 25% 98%;
        --primary-foreground: 210 45% 15%;
        --secondary: 210 45% 30%;
        --accent: 210 45% 30%;
        --accent-foreground: 210 25% 95%;
        --destructive: 0 70% 70%;
        --destructive-foreground: 210 45% 15%;
        --border: 210 45% 35%;
        --grid-line: 210 45% 45%;
        --grid-line-thick: 210 25% 75%;
        --grid-selected: 210 45% 30%;
        --grid-error: 0 70% 30%;
    }

    .high-contrast {
        --background: 0 0% 0%;
        --foreground: 0 0% 85%;
        --card: 0 0% 8%;
        --card-foreground: 0 0% 85%;
        --primary: 0 0% 100%;
        --primary-foreground: 0 0% 0%;
        --secondary: 0 0% 20%;
        --accent: 0 0% 85%;
        --accent-foreground: 0 0% 5%;
        --destructive: 45 100% 50%;
        --destructive-foreground: 0 0% 0%;
        --border: 0 0% 40%;
        --grid-line: 0 0% 50%;
        --grid-line-thick: 0 0% 70%;
        --grid-selected: 45 100% 50%;
        --grid-error: 45 100% 25%;
    }

    * {
        @apply border-border;
    }

    body {
        @apply bg-background text-foreground font-inter;
        font-feature-settings: "cv02", "cv03", "cv04", "cv11";
        background-image:
            radial-gradient(hsl(var(--foreground) / 0.01) 1px, transparent 1px),
            radial-gradient(hsl(var(--foreground) / 0.01) 1px, transparent 1px);
        background-size: 4px 4px, 3px 3px;
    }

    .sudoku-grid {
        @apply bg-card shadow-sm border border-border rounded-lg overflow-hidden;
        box-shadow: 0 4px 6px -1 hsl(var(--shadow-paper)), 0 2px 4px -1 hsl(var(--shadow-paper));
    }

    .sudoku-cell {
        @apply w-full h-full flex items-center justify-center text-lg font-medium border border-grid-line bg-card transition-all duration-200;
        aspect-ratio: 1 / 1;
        font-family: 'JetBrains Mono', monospace;
    }

    /* Sepia theme font override */
    .sepia .sudoku-cell {
        @apply font-caveat text-2xl;
    }

    .sudoku-cell:hover {
        @apply bg-accent/50;
    }

    .sudoku-cell.highlight-row-col {
        background-color: hsl(var(--accent)) !important;
        color: hsl(var(--accent-foreground)) !important;
    }

    .sudoku-cell.highlight-number {
        background-color: hsl(var(--grid-selected)) !important;
        color: hsl(var(--foreground)) !important;
    }

    .sudoku-cell.selected {
        @apply bg-grid-selected border-ring shadow-sm;
    }

    .sudoku-cell.error {
        @apply bg-grid-error border-destructive text-destructive-foreground;
    }

    .sudoku-cell.hint {
        @apply bg-grid-hint border-success text-success-foreground;
    }

    .sudoku-cell.given {
        @apply font-semibold text-primary;
    }
    .dark .sudoku-cell.given, .blueprint .sudoku-cell.given, .high-contrast .sudoku-cell.given {
        @apply font-semibold text-primary;
    }
    .sepia .sudoku-cell.given {
        @apply font-semibold text-primary;
    }

    .sudoku-cell.thick-border-right {
        @apply border-r-2 border-r-grid-line-thick;
    }

    .sudoku-cell.thick-border-bottom {
        @apply border-b-2 border-b-grid-line-thick;
    }
}
